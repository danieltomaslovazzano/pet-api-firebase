<html><head><meta charset="utf-8"/><title>Pet API Test Report</title><style type="text/css">html,
body {
  font-family: Arial, Helvetica, sans-serif;
  font-size: 1rem;
  margin: 0;
  padding: 0;
  color: #333;
}
body {
  padding: 2rem 1rem;
  font-size: 0.85rem;
}
.jesthtml-content {
  margin: 0 auto;
  max-width: 70rem;
}
header {
  display: flex;
  align-items: center;
}
#title {
  margin: 0;
  flex-grow: 1;
}
#logo {
  height: 4rem;
}
#timestamp {
  color: #777;
  margin-top: 0.5rem;
}

/** SUMMARY */
#summary {
  color: #333;
  margin: 2rem 0;
  display: flex;
  font-family: monospace;
  font-size: 1rem;
}
#summary > div {
  margin-right: 2rem;
  background: #eee;
  padding: 1rem;
  min-width: 15rem;
}
#summary > div:last-child {
  margin-right: 0;
}
@media only screen and (max-width: 720px) {
  #summary {
    flex-direction: column;
  }
  #summary > div {
    margin-right: 0;
    margin-top: 2rem;
  }
  #summary > div:first-child {
    margin-top: 0;
  }
}

.summary-total {
  font-weight: bold;
  margin-bottom: 0.5rem;
}
.summary-passed {
  color: #4f8a10;
  border-left: 0.4rem solid #4f8a10;
  padding-left: 0.5rem;
}
.summary-failed,
.summary-obsolete-snapshots {
  color: #d8000c;
  border-left: 0.4rem solid #d8000c;
  padding-left: 0.5rem;
}
.summary-pending {
  color: #9f6000;
  border-left: 0.4rem solid #9f6000;
  padding-left: 0.5rem;
}
.summary-empty {
  color: #999;
  border-left: 0.4rem solid #999;
}

.test-result {
  padding: 1rem;
  margin-bottom: 0.25rem;
}
.test-result:last-child {
  border: 0;
}
.test-result.passed {
  background-color: #dff2bf;
  color: #4f8a10;
}
.test-result.failed {
  background-color: #ffbaba;
  color: #d8000c;
}
.test-result.pending {
  background-color: #ffdf61;
  color: #9f6000;
}

.test-info {
  display: flex;
  justify-content: space-between;
}
.test-suitename {
  width: 20%;
  text-align: left;
  font-weight: bold;
  word-break: break-word;
}
.test-title {
  width: 40%;
  text-align: left;
  font-style: italic;
}
.test-status {
  width: 20%;
  text-align: right;
}
.test-duration {
  width: 10%;
  text-align: right;
  font-size: 0.75rem;
}

.failureMessages {
  padding: 0 1rem;
  margin-top: 1rem;
  border-top: 1px dashed #d8000c;
}
.failureMessages.suiteFailure {
  border-top: none;
}
.failureMsg {
  white-space: pre-wrap;
  white-space: -moz-pre-wrap;
  white-space: -pre-wrap;
  white-space: -o-pre-wrap;
  word-wrap: break-word;
}

.suite-container {
  margin-bottom: 2rem;
}
.suite-container > input[type="checkbox"] {
  position: absolute;
  left: -100vw;
}
.suite-container label {
  display: block;
}
.suite-container .suite-tests {
  overflow-y: hidden;
  height: 0;
}
.suite-container > input[type="checkbox"]:checked ~ .suite-tests {
  height: auto;
  overflow: visible;
}
.suite-info {
  padding: 1rem;
  background-color: #eee;
  color: #777;
  display: flex;
  align-items: center;
  margin-bottom: 0.25rem;
}
.suite-info:hover {
  background-color: #ddd;
  cursor: pointer;
}
.suite-info .suite-path {
  word-break: break-all;
  flex-grow: 1;
  font-family: monospace;
  font-size: 1rem;
}
.suite-info .suite-time {
  margin-left: 0.5rem;
  padding: 0.2rem 0.3rem;
  font-size: 0.75rem;
}
.suite-info .suite-time.warn {
  background-color: #d8000c;
  color: #fff;
}
.suite-info:before {
  content: "\2303";
  display: inline-block;
  margin-right: 0.5rem;
  transform: rotate(0deg);
}
.suite-container > input[type="checkbox"]:checked ~ label .suite-info:before {
  transform: rotate(180deg);
}

/* CONSOLE LOGS */
.suite-consolelog {
  margin-bottom: 0.25rem;
  padding: 1rem;
  background-color: #efefef;
}
.suite-consolelog-header {
  font-weight: bold;
}
.suite-consolelog-item {
  padding: 0.5rem;
}
.suite-consolelog-item pre {
  margin: 0.5rem 0;
  white-space: pre-wrap;
  white-space: -moz-pre-wrap;
  white-space: -pre-wrap;
  white-space: -o-pre-wrap;
  word-wrap: break-word;
}
.suite-consolelog-item-origin {
  color: #777;
  font-weight: bold;
}
.suite-consolelog-item-message {
  color: #000;
  font-size: 1rem;
  padding: 0 0.5rem;
}

/* OBSOLETE SNAPSHOTS */
.suite-obsolete-snapshots {
  margin-bottom: 0.25rem;
  padding: 1rem;
  background-color: #ffbaba;
  color: #d8000c;
}
.suite-obsolete-snapshots-header {
  font-weight: bold;
}
.suite-obsolete-snapshots-item {
  padding: 0.5rem;
}
.suite-obsolete-snapshots-item pre {
  margin: 0.5rem 0;
  white-space: pre-wrap;
  white-space: -moz-pre-wrap;
  white-space: -pre-wrap;
  white-space: -o-pre-wrap;
  word-wrap: break-word;
}
.suite-obsolete-snapshots-item-message {
  color: #000;
  font-size: 1rem;
  padding: 0 0.5rem;
}
</style></head><body><div class="jesthtml-content"><header><h1 id="title">Pet API Test Report</h1></header><div id="metadata-container"><div id="timestamp">Started: 2025-05-06 18:29:15</div><div id="summary"><div id="suite-summary"><div class="summary-total">Suites (20)</div><div class="summary-passed ">8 passed</div><div class="summary-failed ">12 failed</div><div class="summary-pending  summary-empty">0 pending</div></div><div id="test-summary"><div class="summary-total">Tests (200)</div><div class="summary-passed ">141 passed</div><div class="summary-failed ">59 failed</div><div class="summary-pending  summary-empty">0 pending</div></div></div></div><div id="suite-1" class="suite-container"><input id="collapsible-0" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-0"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js</div><div class="suite-time">2.956s</div></div></label><div class="suite-tests"><div class="test-result failed"><div class="test-info"><div class="test-suitename">Organization Permissions &gt; isOrgAdmin condition</div><div class="test-title">should return true for user with org admin role</div><div class="test-status">failed</div><div class="test-duration">0.009s</div></div><div class="failureMessages"> <pre class="failureMsg">TypeError: evaluateCondition is not a function
    at Object.evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:85:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Organization Permissions &gt; isOrgAdmin condition</div><div class="test-title">should return true for user with admin permission</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">TypeError: evaluateCondition is not a function
    at Object.evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:97:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Organization Permissions &gt; isOrgAdmin condition</div><div class="test-title">should return false for regular member</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">TypeError: evaluateCondition is not a function
    at Object.evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:109:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Organization Permissions &gt; isOrgAdmin condition</div><div class="test-title">should return false if no orgId is provided</div><div class="test-status">failed</div><div class="test-duration">0.001s</div></div><div class="failureMessages"> <pre class="failureMsg">TypeError: evaluateCondition is not a function
    at Object.evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:121:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Organization Permissions &gt; organization resource permissions</div><div class="test-title">admin role should have permission to update organization</div><div class="test-status">passed</div><div class="test-duration">0.137s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Organization Permissions &gt; organization resource permissions</div><div class="test-title">org admin should have permission to update organization</div><div class="test-status">failed</div><div class="test-duration">0.014s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: expect(received).toBe(expected) // Object.is equality

Expected: true
Received: false
    at Object.toBe (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:149:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Organization Permissions &gt; organization resource permissions</div><div class="test-title">regular user should not have permission to update organization</div><div class="test-status">passed</div><div class="test-duration">0.005s</div></div></div></div><div class="suite-consolelog"><div class="suite-consolelog-header">Console Log</div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:136:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:136:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">{
  "type": "permission_check",
  "user": {
    "uid": "user123",
    "role": "admin"
  },
  "resource": "organizations",
  "action": "update",
  "context": {
    "params": {
      "orgId": "org1"
    }
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:136:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:83:7)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:136:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:83:7)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:136:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">{
  "type": "permission_granted",
  "reason": "role_match",
  "userRole": "admin",
  "allowedRoles": [
    "admin"
  ]
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:83:7)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:136:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:148:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:148:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">{
  "type": "permission_check",
  "user": {
    "uid": "admin-user",
    "role": "user"
  },
  "resource": "organizations",
  "action": "update",
  "context": {
    "params": {
      "orgId": "org1"
    }
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:148:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at error (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:29:11)
    at logAuthError (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:386:5)
    at checkIsOrgAdmin (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:263:32)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:29)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:148:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">AUTH ERROR: Error checking organization admin status</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at error (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:31:13)
    at logAuthError (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:386:5)
    at checkIsOrgAdmin (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:263:32)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:29)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:148:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">Details: {
  "error": "db.collection(...).where(...).where is not a function",
  "userId": "admin-user",
  "orgId": "org1"
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:264:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:26)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:148:22)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:264:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:26)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:148:22)</pre><pre class="suite-consolelog-item-message">{
  "type": "org_admin_check",
  "result": false,
  "userId": "admin-user",
  "orgId": "org1"
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:264:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:26)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:148:22)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:101:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:148:22)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:101:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:148:22)</pre><pre class="suite-consolelog-item-message">{
  "type": "permission_denied",
  "reason": "no_matching_role_or_condition"
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:101:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:148:22)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:160:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:160:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">{
  "type": "permission_check",
  "user": {
    "uid": "regular-user",
    "role": "user"
  },
  "resource": "organizations",
  "action": "update",
  "context": {
    "params": {
      "orgId": "org1"
    }
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:160:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at error (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:29:11)
    at logAuthError (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:386:5)
    at checkIsOrgAdmin (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:263:32)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:29)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:160:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">AUTH ERROR: Error checking organization admin status</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at error (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:31:13)
    at logAuthError (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:386:5)
    at checkIsOrgAdmin (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:263:32)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:29)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:160:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">Details: {
  "error": "db.collection(...).where(...).where is not a function",
  "userId": "regular-user",
  "orgId": "org1"
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:264:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:26)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:160:22)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:264:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:26)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:160:22)</pre><pre class="suite-consolelog-item-message">{
  "type": "org_admin_check",
  "result": false,
  "userId": "regular-user",
  "orgId": "org1"
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:264:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:26)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:160:22)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:101:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:160:22)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:101:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:160:22)</pre><pre class="suite-consolelog-item-message">{
  "type": "permission_denied",
  "reason": "no_matching_role_or_condition"
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:101:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions/organization.test.js:160:22)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div></div></div><div id="suite-2" class="suite-container"><input id="collapsible-1" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-1"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js</div><div class="suite-time">2.888s</div></div></label><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Permission Service &gt; hasRole function</div><div class="test-title">should return true if user has a matching role</div><div class="test-status">passed</div><div class="test-duration">0.009s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Permission Service &gt; hasRole function</div><div class="test-title">should return false if user does not have a matching role</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Permission Service &gt; hasRole function</div><div class="test-title">should default to "user" role if not specified</div><div class="test-status">passed</div><div class="test-duration">0.005s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Permission Service &gt; hasRole function</div><div class="test-title">should return true if "*" is in allowed roles</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Permission Service &gt; hasPermission function</div><div class="test-title">should grant access if user has a direct role</div><div class="test-status">passed</div><div class="test-duration">0.027s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Permission Service &gt; hasPermission function</div><div class="test-title">should grant access if user is the owner</div><div class="test-status">passed</div><div class="test-duration">0.158s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Permission Service &gt; hasPermission function</div><div class="test-title">should deny access if not owner and no matching role</div><div class="test-status">passed</div><div class="test-duration">0.008s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Permission Service &gt; hasPermission function</div><div class="test-title">should check for same organization</div><div class="test-status">failed</div><div class="test-duration">0.046s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: expect(received).toBe(expected) // Object.is equality

Expected: true
Received: false
    at Object.toBe (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:110:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div></div><div class="suite-consolelog"><div class="suite-consolelog-header">Console Log</div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:62:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:62:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">{
  "type": "permission_check",
  "user": {
    "uid": "user123",
    "role": "admin"
  },
  "resource": "pets",
  "action": "update",
  "context": {}
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:62:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:83:7)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:62:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:83:7)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:62:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">{
  "type": "permission_granted",
  "reason": "role_match",
  "userRole": "admin",
  "allowedRoles": [
    "admin",
    "moderator"
  ]
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:83:7)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:62:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:78:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:78:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">{
  "type": "permission_check",
  "user": {
    "uid": "user123",
    "role": "user"
  },
  "resource": "pets",
  "action": "update",
  "context": {
    "resourceId": "pet123",
    "resourceOwnerId": "user123"
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:78:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:221:7)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:29)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:78:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:221:7)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:29)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:78:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">{
  "type": "is_owner_check",
  "result": true,
  "userId": "user123",
  "resourceOwnerId": "user123"
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:221:7)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:29)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:78:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:180:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:78:22)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:180:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:78:22)</pre><pre class="suite-consolelog-item-message">{
  "type": "condition_met",
  "conditionType": "isOwner"
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:180:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:78:22)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:96:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:78:22)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:96:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:78:22)</pre><pre class="suite-consolelog-item-message">{
  "type": "permission_granted",
  "reason": "condition_met"
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:96:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:78:22)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:93:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:93:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">{
  "type": "permission_check",
  "user": {
    "uid": "user123",
    "role": "user"
  },
  "resource": "pets",
  "action": "update",
  "context": {
    "resourceId": "pet123",
    "resourceOwnerId": "differentUser"
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:93:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:221:7)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:29)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:93:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:221:7)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:29)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:93:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">{
  "type": "is_owner_check",
  "result": false,
  "userId": "user123",
  "resourceOwnerId": "differentUser"
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:221:7)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:29)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:93:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:203:5)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:93:22)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:203:5)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:93:22)</pre><pre class="suite-consolelog-item-message">{
  "type": "condition_failed",
  "reason": "required_role_not_met",
  "conditionType": "isSameOrganization",
  "requiredRole": "org-admin",
  "userRole": "user"
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:203:5)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:93:22)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:203:5)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:93:22)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:203:5)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:93:22)</pre><pre class="suite-consolelog-item-message">{
  "type": "condition_failed",
  "reason": "required_role_not_met",
  "conditionType": "isSameOrganization",
  "requiredRole": "org-staff",
  "userRole": "user"
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:203:5)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:93:22)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:101:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:93:22)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:101:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:93:22)</pre><pre class="suite-consolelog-item-message">{
  "type": "permission_denied",
  "reason": "no_matching_role_or_condition"
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:101:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:93:22)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:109:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:109:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">{
  "type": "permission_check",
  "user": {
    "uid": "user123",
    "role": "org-admin"
  },
  "resource": "pets",
  "action": "delete",
  "context": {
    "resourceId": "pet123",
    "resourceOwnerId": "differentUser"
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:56:5)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:109:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:221:7)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:29)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:109:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:221:7)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:29)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:109:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">{
  "type": "is_owner_check",
  "result": false,
  "userId": "user123",
  "resourceOwnerId": "differentUser"
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:221:7)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:29)
    at Object.hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:109:28)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at error (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:29:11)
    at logAuthError (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:520:5)
    at getUserOrganizations (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:350:26)
    at checkSameOrganization (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:242:31)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:109:22)</pre><pre class="suite-consolelog-item-message">AUTH ERROR: Error getting user organizations</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at error (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:31:13)
    at logAuthError (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:520:5)
    at getUserOrganizations (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:350:26)
    at checkSameOrganization (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:242:31)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:32)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:109:22)</pre><pre class="suite-consolelog-item-message">Details: {
  "error": "db.collection(...).where is not a function",
  "userId": "user123"
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at error (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:29:11)
    at logAuthError (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:520:5)
    at getUserOrganizations (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:351:35)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:242:25)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:26)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:109:22)</pre><pre class="suite-consolelog-item-message">AUTH ERROR: Error getting user organizations</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at error (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:31:13)
    at logAuthError (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:520:5)
    at getUserOrganizations (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:351:35)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at evaluateCondition (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:242:25)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:26)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:109:22)</pre><pre class="suite-consolelog-item-message">Details: {
  "error": "db.collection(...).where is not a function",
  "userId": "differentUser"
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:243:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:26)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:109:22)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:243:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:26)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:109:22)</pre><pre class="suite-consolelog-item-message">{
  "type": "same_organization_check",
  "result": false,
  "userId": "user123",
  "resourceOwnerId": "differentUser"
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:243:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at meetsConditions (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:178:26)
    at hasPermission (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:93:23)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:109:22)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:16:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:101:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:109:22)</pre><pre class="suite-consolelog-item-message">=== AUTH DEBUG ===</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:17:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:101:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:109:22)</pre><pre class="suite-consolelog-item-message">{
  "type": "permission_denied",
  "reason": "no_matching_role_or_condition"
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/utils/loggerUtil.js:18:13)
    at logAuthDebug (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/services/permissionService.js:101:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/permissions.test.js:109:22)</pre><pre class="suite-consolelog-item-message">=== END AUTH DEBUG ===</pre></div></div></div><div id="suite-3" class="suite-container"><input id="collapsible-2" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-2"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/integration/user-api.test.js</div><div class="suite-time">0s</div></div></label><div class="suite-tests"/></div><div id="suite-4" class="suite-container"><input id="collapsible-3" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-3"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js</div><div class="suite-time warn">5.047s</div></div></label><div class="suite-tests"><div class="test-result failed"><div class="test-info"><div class="test-suitename">Authentication Endpoints &gt; User Registration</div><div class="test-title">should successfully register a new user with valid data</div><div class="test-status">failed</div><div class="test-duration">0.007s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create test user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:95:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Authentication Endpoints &gt; User Registration</div><div class="test-title">should reject registration with invalid email format</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create test user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:95:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Authentication Endpoints &gt; User Registration</div><div class="test-title">should reject registration with weak password</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create test user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:95:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Authentication Endpoints &gt; User Registration</div><div class="test-title">should reject registration with missing required fields</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create test user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:95:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Authentication Endpoints &gt; User Login</div><div class="test-title">should successfully login with valid credentials</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create test user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:95:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Authentication Endpoints &gt; User Login</div><div class="test-title">should reject login with invalid password</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create test user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:95:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Authentication Endpoints &gt; User Login</div><div class="test-title">should reject login with non-existent user</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create test user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:95:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Authentication Endpoints &gt; User Login</div><div class="test-title">should reject login with invalid email format</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create test user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:95:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Authentication Endpoints &gt; User Login</div><div class="test-title">should reject login with disabled account</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create test user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:95:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Authentication Endpoints &gt; Password Reset</div><div class="test-title">should successfully request password reset for valid email</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create test user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:95:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Authentication Endpoints &gt; Email Verification</div><div class="test-title">should successfully verify email with valid token</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create test user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:95:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Authentication Endpoints &gt; Email Verification</div><div class="test-title">should reject verification with invalid token</div><div class="test-status">failed</div><div class="test-duration">0.001s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create test user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:95:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Authentication Endpoints &gt; Email Verification</div><div class="test-title">should reject verification with expired token</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create test user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:95:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Authentication Endpoints &gt; Logout</div><div class="test-title">should successfully logout with valid token</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create test user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:95:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="failureMsg">TypeError: Cannot read properties of undefined (reading 'email')
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:293:25)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:95:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Authentication Endpoints &gt; Logout</div><div class="test-title">should reject logout with invalid token</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create test user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:95:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="failureMsg">TypeError: Cannot read properties of undefined (reading 'email')
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:293:25)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:95:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Authentication Endpoints &gt; Logout</div><div class="test-title">should reject logout without token</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create test user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:95:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="failureMsg">TypeError: Cannot read properties of undefined (reading 'email')
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:293:25)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:95:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div></div><div class="suite-consolelog"><div class="suite-consolelog-header">Console Log</div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:94:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Failed to create test user: { status: 500, data: { error: '' } }</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at error (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/utils.js:121:13)
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/auth/auth.test.js:107:5)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:154:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">No test results to generate report from</pre></div></div></div><div id="suite-5" class="suite-container"><input id="collapsible-4" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-4"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/models/prisma/petModel.test.js</div><div class="suite-time">0s</div></div></label><div class="suite-tests"/></div><div id="suite-6" class="suite-container"><input id="collapsible-5" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-5"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/models/prisma/userModel.test.js</div><div class="suite-time">0s</div></div></label><div class="suite-tests"/></div><div id="suite-7" class="suite-container"><input id="collapsible-6" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-6"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js</div><div class="suite-time warn">5.319s</div></div></label><div class="suite-tests"><div class="test-result failed"><div class="test-info"><div class="test-suitename">Pet Management Endpoints &gt; Pet Creation</div><div class="test-title">should successfully create a pet with valid data</div><div class="test-status">failed</div><div class="test-duration">0.061s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create owner user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Pet Management Endpoints &gt; Pet Creation</div><div class="test-title">should reject pet creation with missing required fields</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create owner user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Pet Management Endpoints &gt; Pet Creation</div><div class="test-title">should reject pet creation with invalid data types</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create owner user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Pet Management Endpoints &gt; Pet Creation</div><div class="test-title">should reject pet creation for unauthorized user</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create owner user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Pet Management Endpoints &gt; Pet Retrieval (Single)</div><div class="test-title">should retrieve an existing pet with valid ID</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create owner user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Pet Management Endpoints &gt; Pet Retrieval (Single)</div><div class="test-title">should fail to retrieve pet with invalid ID format</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create owner user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Pet Management Endpoints &gt; Pet Retrieval (Single)</div><div class="test-title">should fail to retrieve non-existent pet</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create owner user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Pet Management Endpoints &gt; Pet Listing</div><div class="test-title">should list all pets with pagination</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create owner user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Pet Management Endpoints &gt; Pet Listing</div><div class="test-title">should filter pets by species</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create owner user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Pet Management Endpoints &gt; Pet Listing</div><div class="test-title">should sort pets by name</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create owner user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Pet Management Endpoints &gt; Pet Update</div><div class="test-title">should update pet with valid data</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create owner user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Pet Management Endpoints &gt; Pet Update</div><div class="test-title">should reject update with invalid data</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create owner user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Pet Management Endpoints &gt; Pet Update</div><div class="test-title">should reject update by unauthorized user</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create owner user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Pet Management Endpoints &gt; Pet Deletion</div><div class="test-title">should delete pet with valid ID</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create owner user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Pet Management Endpoints &gt; Pet Deletion</div><div class="test-title">should reject deletion with invalid ID format</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create owner user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Pet Management Endpoints &gt; Pet Deletion</div><div class="test-title">should reject deletion by unauthorized user</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create owner user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Pet Management Endpoints &gt; Pet Search</div><div class="test-title">should search pets by name</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create owner user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Pet Management Endpoints &gt; Pet Search</div><div class="test-title">should search pets by species</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create owner user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Pet Management Endpoints &gt; Pet Search</div><div class="test-title">should handle search with no results</div><div class="test-status">failed</div><div class="test-duration">0.001s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: Failed to create owner user
    at Object.&lt;anonymous&gt; (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre></div></div></div><div class="suite-consolelog"><div class="suite-consolelog-header">Console Log</div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at Object.error (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:147:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Failed to create owner user: {
  status: 500,
  data: { error: '' },
  endpoint: 'auth/register',
  method: 'POST'
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at Object.error (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:500:17)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Failed to create pet for deletion test: { status: 500, data: { error: '' }, endpoint: 'pets', method: 'POST' }</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at error (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/utils.js:121:13)
    at Object.generateReport (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/pets/pets.test.js:194:5)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:154:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">No test results to generate report from</pre></div></div></div><div id="suite-8" class="suite-container"><input id="collapsible-7" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-7"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/admin/admin.test.js</div><div class="suite-time">0.502s</div></div></label><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Administración &gt; Acceso al Panel Administrativo</div><div class="test-title">debería permitir acceso a un administrador</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Administración &gt; Acceso al Panel Administrativo</div><div class="test-title">debería denegar acceso a un usuario regular</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Administración &gt; Acceso al Panel Administrativo</div><div class="test-title">debería denegar acceso con token inválido</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Administración &gt; Gestión de Usuarios</div><div class="test-title">debería obtener una lista de todos los usuarios</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Administración &gt; Gestión de Usuarios</div><div class="test-title">debería filtrar usuarios por rol</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Administración &gt; Gestión de Usuarios</div><div class="test-title">debería actualizar el rol de un usuario</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Administración &gt; Gestión de Usuarios</div><div class="test-title">debería eliminar un usuario</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Administración &gt; Estadísticas del Sistema</div><div class="test-title">debería obtener estadísticas generales</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Administración &gt; Estadísticas del Sistema</div><div class="test-title">debería filtrar estadísticas por fecha</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Administración &gt; Operaciones Batch</div><div class="test-title">debería ejecutar operaciones batch sobre usuarios</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Administración &gt; Operaciones Batch</div><div class="test-title">debería ejecutar operaciones batch sobre mascotas</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Administración &gt; Gestión de Reportes</div><div class="test-title">debería obtener todos los reportes</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Administración &gt; Gestión de Reportes</div><div class="test-title">debería actualizar el estado de un reporte</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Administración &gt; Gestión de Reportes</div><div class="test-title">debería eliminar un reporte</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Administración &gt; Configuración del Sistema</div><div class="test-title">debería obtener la configuración actual</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Administración &gt; Configuración del Sistema</div><div class="test-title">debería actualizar parámetros de configuración</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div></div><div class="suite-consolelog"><div class="suite-consolelog-header">Console Log</div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at error (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/utils.js:121:13)
    at Object.generateReport (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/admin/admin.test.js:82:5)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:154:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">No test results to generate report from</pre></div></div></div><div id="suite-9" class="suite-container"><input id="collapsible-8" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-8"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/conversation/conversation.test.js</div><div class="suite-time">0.372s</div></div></label><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Conversación &gt; Creación de Conversaciones</div><div class="test-title">debería crear una conversación entre usuario y organización</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Conversación &gt; Creación de Conversaciones</div><div class="test-title">debería crear una conversación entre usuarios</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Conversación &gt; Creación de Conversaciones</div><div class="test-title">debería rechazar la creación con datos incompletos</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Conversación &gt; Creación de Conversaciones</div><div class="test-title">debería rechazar la creación si el usuario no tiene permisos</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Conversación &gt; Obtención de Conversaciones</div><div class="test-title">debería obtener todas las conversaciones del usuario</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Conversación &gt; Obtención de Conversaciones</div><div class="test-title">debería obtener una conversación específica y sus mensajes</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Conversación &gt; Obtención de Conversaciones</div><div class="test-title">debería filtrar conversaciones por estado</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Conversación &gt; Obtención de Conversaciones</div><div class="test-title">debería impedir acceso a conversaciones de otros usuarios</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Conversación &gt; Envío de Mensajes</div><div class="test-title">debería enviar un mensaje a una conversación existente</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Conversación &gt; Envío de Mensajes</div><div class="test-title">debería rechazar mensajes en conversaciones cerradas</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Conversación &gt; Envío de Mensajes</div><div class="test-title">debería enviar mensajes con archivos adjuntos</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Conversación &gt; Envío de Mensajes</div><div class="test-title">debería actualizar el estado de los mensajes</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Conversación &gt; Notificaciones y Alertas</div><div class="test-title">debería notificar a los participantes sobre nuevos mensajes</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Conversación &gt; Notificaciones y Alertas</div><div class="test-title">debería permitir configurar preferencias de notificación</div><div class="test-status">passed</div><div class="test-duration">0.012s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Conversación &gt; Notificaciones y Alertas</div><div class="test-title">debería enviar recordatorios de mensajes no leídos</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Conversación &gt; Gestión de Estado de Conversación</div><div class="test-title">debería cambiar el estado de una conversación a cerrada</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Conversación &gt; Gestión de Estado de Conversación</div><div class="test-title">debería archivar una conversación</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Conversación &gt; Gestión de Estado de Conversación</div><div class="test-title">debería reabrir una conversación cerrada</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Conversación &gt; Gestión de Estado de Conversación</div><div class="test-title">debería rechazar cambios de estado no autorizados</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div></div><div class="suite-consolelog"><div class="suite-consolelog-header">Console Log</div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at Object.log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/conversation/conversation.test.js:59:13)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:95:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">Setting up test data for conversation tests...</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/utils.js:136:11)
    at Object.generateReport (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/conversation/conversation.test.js:109:5)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:154:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">Deduplicating results: 19 -&gt; 19</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/utils.js:229:11)
    at Object.generateReport (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/conversation/conversation.test.js:109:5)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:154:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">
Markdown report generated at: /Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/conversation/reports/conversation_tests_2025-05-06T16-29-22-592Z.md</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at Object.log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/conversation/conversation.test.js:110:13)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:154:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">Cleaning up test data...</pre></div></div></div><div id="suite-10" class="suite-container"><input id="collapsible-9" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-9"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/integration/database-switching.test.js</div><div class="suite-time">0s</div></div></label><div class="suite-tests"/></div><div id="suite-11" class="suite-container"><input id="collapsible-10" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-10"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/performance/database-performance.test.js</div><div class="suite-time">0s</div></div></label><div class="suite-tests"/></div><div id="suite-12" class="suite-container"><input id="collapsible-11" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-11"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/organization/organization.test.js</div><div class="suite-time">0.796s</div></div></label><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Creación de Organizaciones</div><div class="test-title">debería crear una organización con datos completos</div><div class="test-status">passed</div><div class="test-duration">0.021s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Creación de Organizaciones</div><div class="test-title">debería crear una organización con datos mínimos requeridos</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Creación de Organizaciones</div><div class="test-title">debería rechazar la creación con datos incompletos</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Creación de Organizaciones</div><div class="test-title">debería convertir al creador en administrador automáticamente</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Obtención de Organizaciones</div><div class="test-title">debería obtener detalles de una organización específica</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Obtención de Organizaciones</div><div class="test-title">debería obtener lista de organizaciones filtradas por permisos</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Obtención de Organizaciones</div><div class="test-title">debería impedir a usuarios externos ver organizaciones privadas</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Obtención de Organizaciones</div><div class="test-title">debería permitir filtrar organizaciones por nombre, tipo y estado</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Actualización de Organizaciones</div><div class="test-title">debería actualizar información básica de la organización</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Actualización de Organizaciones</div><div class="test-title">debería actualizar configuración y preferencias</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Actualización de Organizaciones</div><div class="test-title">debería permitir solo a administradores actualizar</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Actualización de Organizaciones</div><div class="test-title">debería validar datos en actualizaciones</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Eliminación de Organizaciones</div><div class="test-title">debería eliminar una organización como propietario/admin</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Eliminación de Organizaciones</div><div class="test-title">debería eliminar recursos relacionados en cascada</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Eliminación de Organizaciones</div><div class="test-title">debería impedir a usuarios sin permisos eliminar</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Eliminación de Organizaciones</div><div class="test-title">debería tener protección contra eliminación accidental</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Gestión de Recursos de Organización</div><div class="test-title">debería permitir acceso a recursos compartidos de la organización</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Gestión de Recursos de Organización</div><div class="test-title">debería gestionar configuraciones específicas de organización</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Gestión de Recursos de Organización</div><div class="test-title">debería verificar límites de recursos por tipo de organización</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Organización &gt; Gestión de Recursos de Organización</div><div class="test-title">debería permitir acceso a estadísticas según el rol</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div></div><div class="suite-consolelog"><div class="suite-consolelog-header">Console Log</div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at Object.log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/organization/organization.test.js:59:13)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:95:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">Setting up test data for organization tests...</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/utils.js:136:11)
    at Object.generateReport (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/organization/organization.test.js:92:5)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:154:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">Deduplicating results: 23 -&gt; 23</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/utils.js:229:11)
    at Object.generateReport (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/organization/organization.test.js:92:5)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:154:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">
Markdown report generated at: /Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/organization/reports/organization_tests_2025-05-06T16-29-22-825Z.md</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at Object.log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/organization/organization.test.js:93:13)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:154:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">Cleaning up test data...</pre></div></div></div><div id="suite-13" class="suite-container"><input id="collapsible-12" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-12"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/message/message.test.js</div><div class="suite-time">0.815s</div></div></label><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Creación de Mensajes</div><div class="test-title">debería crear un mensaje de texto simple</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Creación de Mensajes</div><div class="test-title">debería crear un mensaje con archivo adjunto</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Creación de Mensajes</div><div class="test-title">debería crear un mensaje con ubicación</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Creación de Mensajes</div><div class="test-title">debería rechazar la creación sin contenido</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Creación de Mensajes</div><div class="test-title">debería rechazar la creación en conversación cerrada</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Obtención de Mensajes</div><div class="test-title">debería obtener todos los mensajes de una conversación</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Obtención de Mensajes</div><div class="test-title">debería obtener un mensaje específico por ID</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Obtención de Mensajes</div><div class="test-title">debería obtener mensajes con paginación</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Obtención de Mensajes</div><div class="test-title">debería obtener mensajes filtrados por fecha</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Obtención de Mensajes</div><div class="test-title">debería rechazar acceso si no es participante de la conversación</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Actualización de Mensajes</div><div class="test-title">debería actualizar el estado de un mensaje a leído</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Actualización de Mensajes</div><div class="test-title">debería permitir editar un mensaje reciente</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Actualización de Mensajes</div><div class="test-title">debería rechazar edición de mensajes antiguos</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Actualización de Mensajes</div><div class="test-title">debería rechazar edición por usuarios que no son el remitente</div><div class="test-status">passed</div><div class="test-duration">0.005s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Eliminación de Mensajes</div><div class="test-title">debería eliminar un mensaje propio reciente</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Eliminación de Mensajes</div><div class="test-title">debería marcar como eliminado pero mantener en la base de datos</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Eliminación de Mensajes</div><div class="test-title">debería rechazar eliminación de mensajes antiguos</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Eliminación de Mensajes</div><div class="test-title">debería rechazar eliminación por usuarios que no son el remitente</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Eliminación de Mensajes</div><div class="test-title">debería permitir eliminación administrativa</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Gestión de Archivos Adjuntos</div><div class="test-title">debería adjuntar múltiples archivos a un mensaje</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Gestión de Archivos Adjuntos</div><div class="test-title">debería validar tamaño máximo de archivos</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Gestión de Archivos Adjuntos</div><div class="test-title">debería validar tipos de archivo permitidos</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Gestión de Archivos Adjuntos</div><div class="test-title">debería obtener la URL para descargar un archivo adjunto</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Mensajes &gt; Gestión de Archivos Adjuntos</div><div class="test-title">debería eliminar un archivo adjunto de un mensaje propio</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div></div><div class="suite-consolelog"><div class="suite-consolelog-header">Console Log</div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at Object.log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/message/message.test.js:59:13)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:95:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">Setting up test data for message tests...</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/utils.js:136:11)
    at Object.generateReport (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/message/message.test.js:140:5)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:154:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">Deduplicating results: 24 -&gt; 24</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/utils.js:229:11)
    at Object.generateReport (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/message/message.test.js:140:5)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:154:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">
Markdown report generated at: /Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/message/reports/message_tests_2025-05-06T16-29-22-919Z.md</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at Object.log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/message/message.test.js:141:13)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:154:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">Cleaning up test data...</pre></div></div></div><div id="suite-14" class="suite-container"><input id="collapsible-13" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-13"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/unit/middlewareComposition.test.js</div><div class="suite-time">0.445s</div></div></label><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Middleware Composition &gt; requireAuth</div><div class="test-title">should return verifyToken middleware</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Middleware Composition &gt; protectResource</div><div class="test-title">should return correct middleware chain for pets</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Middleware Composition &gt; protectResource</div><div class="test-title">should return correct middleware chain for users</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Middleware Composition &gt; protectResource</div><div class="test-title">should return correct middleware chain for organizations</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Middleware Composition &gt; protectResource</div><div class="test-title">should skip resource loading when option is passed</div><div class="test-status">passed</div><div class="test-duration">0.017s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Middleware Composition &gt; protectResource</div><div class="test-title">should throw error for unsupported resource type</div><div class="test-status">passed</div><div class="test-duration">0.053s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Middleware Composition &gt; protectCollection</div><div class="test-title">should return correct middleware chain</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Middleware Composition &gt; requireRole</div><div class="test-title">should return correct middleware chain for single role</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Middleware Composition &gt; requireRole</div><div class="test-title">should handle array of roles</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Middleware Composition &gt; requireAdmin</div><div class="test-title">should be a convenience method for requiring admin role</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Middleware Composition &gt; requireOrgAdmin</div><div class="test-title">should return correct middleware chain</div><div class="test-status">passed</div><div class="test-duration">0.059s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Middleware Composition &gt; ownerOrAdmin</div><div class="test-title">should return correct middleware chain for pets</div><div class="test-status">passed</div><div class="test-duration">0.009s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Middleware Composition &gt; ownerOrAdmin</div><div class="test-title">should throw error for unsupported resource type</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div></div></div><div id="suite-15" class="suite-container"><input id="collapsible-14" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-14"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/unit/authorization.test.js</div><div class="suite-time">0.398s</div></div></label><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Authorization Middleware</div><div class="test-title">should call next() for allowed resource/action</div><div class="test-status">passed</div><div class="test-duration">0.004s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Authorization Middleware</div><div class="test-title">should return 401 if user is not authenticated</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Authorization Middleware</div><div class="test-title">should return 403 if permission is denied</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Authorization Middleware</div><div class="test-title">should return 500 if there is an unexpected error</div><div class="test-status">passed</div><div class="test-duration">0.119s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Authorization Middleware</div><div class="test-title">should return 400 if there is a validation error</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Authorization Middleware</div><div class="test-title">should return 404 if the resource is not found</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Authorization Middleware</div><div class="test-title">should throw an error if resource or action is not provided</div><div class="test-status">passed</div><div class="test-duration">0.014s</div></div></div></div></div><div id="suite-16" class="suite-container"><input id="collapsible-15" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-15"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js</div><div class="suite-time">0.817s</div></div></label><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Creación de Membresías</div><div class="test-title">debería crear una membresía con rol básico</div><div class="test-status">passed</div><div class="test-duration">0.006s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Creación de Membresías</div><div class="test-title">debería crear una membresía con rol administrativo</div><div class="test-status">passed</div><div class="test-duration">0.009s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Creación de Membresías</div><div class="test-title">debería rechazar la creación con datos incompletos</div><div class="test-status">passed</div><div class="test-duration">0.014s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Creación de Membresías</div><div class="test-title">debería rechazar membresías duplicadas</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Obtención de Membresías</div><div class="test-title">debería obtener todas las membresías de un usuario</div><div class="test-status">passed</div><div class="test-duration">0.005s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Obtención de Membresías</div><div class="test-title">debería obtener todas las membresías de una organización</div><div class="test-status">passed</div><div class="test-duration">0.009s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Obtención de Membresías</div><div class="test-title">debería filtrar membresías por rol</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Obtención de Membresías</div><div class="test-title">debería permitir a un usuario ver sólo sus propias membresías</div><div class="test-status">passed</div><div class="test-duration">0.006s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Obtención de Membresías</div><div class="test-title">debería obtener una membresía específica por ID</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Obtención de Membresías</div><div class="test-title">debería rechazar acceso a membresía de otro usuario sin permisos</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Actualización de Membresías</div><div class="test-title">debería actualizar el rol de una membresía</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Actualización de Membresías</div><div class="test-title">debería permitir sólo a administradores cambiar roles</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Actualización de Membresías</div><div class="test-title">debería rechazar actualización sin permisos adecuados</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Actualización de Membresías</div><div class="test-title">debería actualizar una membresía usando PUT</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Eliminación de Membresías</div><div class="test-title">debería eliminar una membresía como administrador</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Eliminación de Membresías</div><div class="test-title">debería permitir eliminar la propia membresía</div><div class="test-status">passed</div><div class="test-duration">0.006s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Eliminación de Membresías</div><div class="test-title">debería rechazar eliminación sin permisos adecuados</div><div class="test-status">passed</div><div class="test-duration">0.018s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Eliminación de Membresías</div><div class="test-title">debería impedir eliminar la última membresía administrativa</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Eliminación de Membresías</div><div class="test-title">debería eliminar una membresía específica</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Eliminación de Membresías</div><div class="test-title">debería rechazar eliminación de membresía sin permisos</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Validación de Permisos</div><div class="test-title">debería permitir a org-admin gestionar todas las membresías de su organización</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Validación de Permisos</div><div class="test-title">debería restringir a usuarios regulares a sus propias membresías</div><div class="test-status">passed</div><div class="test-duration">0.046s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Módulo de Membresía &gt; Validación de Permisos</div><div class="test-title">debería respetar la jerarquía de roles en operaciones de gestión</div><div class="test-status">passed</div><div class="test-duration">0.014s</div></div></div></div><div class="suite-consolelog"><div class="suite-consolelog-header">Console Log</div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at Object.log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:210:15)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:95:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">Test setup completed successfully</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:265:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Crear membresía con rol básico</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:265:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'POST',
  endpoint: 'http://localhost:3000/api/memberships',
  data: { userId: 'user1', organizationId: 'org1', role: 'org-member' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:265:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'POST',
  endpoint: 'http://localhost:3000/api/memberships',
  requestData: { userId: 'user1', organizationId: 'org1', role: 'org-member' },
  status: 201,
  data: {
    id: 'new-membership-1',
    userId: 'user1',
    organizationId: 'org1',
    role: 'org-member',
    createdAt: '2025-05-06T16:29:23.078Z'
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:308:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Crear membresía con rol administrativo</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:308:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'POST',
  endpoint: 'http://localhost:3000/api/memberships',
  data: { userId: 'user2', organizationId: 'org1', role: 'org-admin' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:308:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'POST',
  endpoint: 'http://localhost:3000/api/memberships',
  requestData: { userId: 'user2', organizationId: 'org1', role: 'org-admin' },
  status: 201,
  data: {
    id: 'new-membership-2',
    userId: 'user2',
    organizationId: 'org1',
    role: 'org-admin',
    createdAt: '2025-05-06T16:29:23.084Z'
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:356:11)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Rechazar creación sin userId</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:356:11)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'POST',
  endpoint: 'http://localhost:3000/api/memberships',
  data: { organizationId: 'org1', role: 'org-member' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:356:11)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'POST',
  endpoint: 'http://localhost:3000/api/memberships',
  requestData: { organizationId: 'org1', role: 'org-member' },
  status: 400,
  data: { message: 'El campo userId es obligatorio' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:356:11)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Rechazar creación sin organizationId</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:356:11)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'POST',
  endpoint: 'http://localhost:3000/api/memberships',
  data: { userId: 'user1', role: 'org-member' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:356:11)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'POST',
  endpoint: 'http://localhost:3000/api/memberships',
  requestData: { userId: 'user1', role: 'org-member' },
  status: 400,
  data: { message: 'El campo organizationId es obligatorio' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:356:11)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Rechazar creación sin role</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:356:11)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'POST',
  endpoint: 'http://localhost:3000/api/memberships',
  data: { userId: 'user1', organizationId: 'org1' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:356:11)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'POST',
  endpoint: 'http://localhost:3000/api/memberships',
  requestData: { userId: 'user1', organizationId: 'org1' },
  status: 400,
  data: { message: 'El campo role es obligatorio' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:399:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Rechazar membresía duplicada</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:399:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'POST',
  endpoint: 'http://localhost:3000/api/memberships',
  data: { userId: 'admin1', organizationId: 'org1', role: 'org-member' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:399:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'POST',
  endpoint: 'http://localhost:3000/api/memberships',
  requestData: { userId: 'admin1', organizationId: 'org1', role: 'org-member' },
  status: 409,
  data: {
    message: 'Ya existe una membresía para este usuario en esta organización'
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:432:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Obtener membresías de un usuario</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:432:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships?userId=orgadmin1',
  data: undefined
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:432:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships?userId=orgadmin1',
  status: 200,
  data: [
    {
      id: 'membership2',
      userId: 'orgadmin1',
      organizationId: 'org2',
      role: 'org-admin',
      createdAt: '2025-05-06T16:29:23.067Z'
    },
    {
      id: 'membership2',
      userId: 'orgadmin1',
      organizationId: 'org2',
      role: 'org-admin',
      createdAt: '2025-05-06T16:29:23.067Z'
    }
  ]
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:468:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Obtener membresías de una organización</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:468:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships?organizationId=org2',
  data: undefined
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:468:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships?organizationId=org2',
  status: 200,
  data: [
    {
      id: 'membership2',
      userId: 'orgadmin1',
      organizationId: 'org2',
      role: 'org-admin',
      createdAt: '2025-05-06T16:29:23.067Z'
    },
    {
      id: 'membership3',
      userId: 'orgstaff1',
      organizationId: 'org2',
      role: 'org-staff',
      createdAt: '2025-05-06T16:29:23.067Z'
    },
    {
      id: 'membership2',
      userId: 'orgadmin1',
      organizationId: 'org2',
      role: 'org-admin',
      createdAt: '2025-05-06T16:29:23.067Z'
    }
  ]
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:507:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Filtrar membresías por rol</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:507:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships?organizationId=org2&amp;role=org-admin',
  data: undefined
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:507:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships?organizationId=org2&amp;role=org-admin',
  status: 200,
  data: [
    {
      id: 'membership2',
      userId: 'orgadmin1',
      organizationId: 'org2',
      role: 'org-admin',
      createdAt: '2025-05-06T16:29:23.067Z'
    },
    {
      id: 'membership2',
      userId: 'orgadmin1',
      organizationId: 'org2',
      role: 'org-admin',
      createdAt: '2025-05-06T16:29:23.067Z'
    }
  ]
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:553:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Rechazar acceso a membresías de otro usuario</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:553:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships?userId=orgadmin1',
  data: undefined
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:553:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships?userId=orgadmin1',
  status: 403,
  data: {
    message: 'No tienes permisos para ver las membresías de otro usuario'
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:579:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Permitir acceso a membresías propias</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:579:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships?userId=user1',
  data: undefined
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:579:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships?userId=user1',
  status: 200,
  data: [
    {
      id: 'new-membership-1',
      userId: 'user1',
      organizationId: 'org1',
      role: 'org-member',
      createdAt: '2025-05-06T16:29:23.078Z'
    }
  ]
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:607:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Obtener membresía específica por ID</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:607:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships/new-membership-1',
  data: undefined
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:607:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships/new-membership-1',
  status: 200,
  data: {
    id: 'new-membership-1',
    userId: 'user1',
    organizationId: 'org1',
    role: 'org-member',
    createdAt: '2025-05-06T16:29:23.078Z'
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:647:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Rechazar acceso a membresía ajena</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:647:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships/membership2',
  data: undefined
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:647:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships/membership2',
  status: 403,
  data: { message: 'You do not have permission to view this membership' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:686:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Actualizar rol de membresía</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:686:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'PATCH',
  endpoint: 'http://localhost:3000/api/memberships/new-membership-1',
  data: { role: 'org-staff' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:686:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'PATCH',
  endpoint: 'http://localhost:3000/api/memberships/new-membership-1',
  requestData: { role: 'org-staff' },
  status: 200,
  data: {
    id: 'new-membership-1',
    userId: 'user1',
    organizationId: 'org1',
    role: 'org-staff',
    createdAt: '2025-05-06T16:29:23.078Z',
    updatedAt: '2025-05-06T16:29:23.155Z'
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:731:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Rechazar actualización sin permisos de admin</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:731:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'PATCH',
  endpoint: 'http://localhost:3000/api/memberships/membership3',
  data: { role: 'org-admin' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:731:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'PATCH',
  endpoint: 'http://localhost:3000/api/memberships/membership3',
  requestData: { role: 'org-admin' },
  status: 403,
  data: { message: 'No tienes permisos para modificar roles de membresía' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:760:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Permitir actualización por admin de organización</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:760:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'PATCH',
  endpoint: 'http://localhost:3000/api/memberships/membership3',
  data: { role: 'org-admin' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:760:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'PATCH',
  endpoint: 'http://localhost:3000/api/memberships/membership3',
  requestData: { role: 'org-admin' },
  status: 200,
  data: {
    id: 'membership3',
    userId: 'orgstaff1',
    organizationId: 'org2',
    role: 'org-admin',
    createdAt: '2025-05-06T16:29:23.067Z',
    updatedAt: '2025-05-06T16:29:23.160Z'
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:804:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Rechazar actualización por usuario de otra organización</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:804:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'PATCH',
  endpoint: 'http://localhost:3000/api/memberships/new-membership-1',
  data: { role: 'org-admin' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:804:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'PATCH',
  endpoint: 'http://localhost:3000/api/memberships/new-membership-1',
  requestData: { role: 'org-admin' },
  status: 403,
  data: {
    message: 'No tienes permisos para modificar membresías de esta organización'
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:842:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Actualizar membresía usando PUT</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:842:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'PUT',
  endpoint: 'http://localhost:3000/api/memberships/new-membership-1',
  data: { role: 'org-moderator', permissions: [ 'view', 'edit' ] }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:842:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'PUT',
  endpoint: 'http://localhost:3000/api/memberships/new-membership-1',
  requestData: { role: 'org-moderator', permissions: [ 'view', 'edit' ] },
  status: 200,
  data: {
    id: 'new-membership-1',
    userId: 'user1',
    organizationId: 'org1',
    role: 'org-moderator',
    createdAt: '2025-05-06T16:29:23.078Z',
    updatedAt: '2025-05-06T16:29:23.164Z',
    permissions: [ 'view', 'edit' ]
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:893:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Eliminar membresía como administrador</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:893:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'DELETE',
  endpoint: 'http://localhost:3000/api/memberships/membership-to-delete',
  data: undefined
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:893:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'DELETE',
  endpoint: 'http://localhost:3000/api/memberships/membership-to-delete',
  status: 200,
  data: { success: true, message: 'Membresía eliminada correctamente' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:936:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Eliminar propia membresía</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:936:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'DELETE',
  endpoint: 'http://localhost:3000/api/memberships/own-membership-to-delete',
  data: undefined
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:936:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'DELETE',
  endpoint: 'http://localhost:3000/api/memberships/own-membership-to-delete',
  status: 200,
  data: {
    success: true,
    message: 'Has abandonado la organización correctamente'
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:975:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Rechazar eliminación sin permisos</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:975:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'DELETE',
  endpoint: 'http://localhost:3000/api/memberships/membership2',
  data: undefined
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:975:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'DELETE',
  endpoint: 'http://localhost:3000/api/memberships/membership2',
  status: 403,
  data: { message: 'Unauthorized. Only admins can remove members.' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1012:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Impedir eliminar último admin</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1012:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'DELETE',
  endpoint: 'http://localhost:3000/api/memberships/membership2',
  data: undefined
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1012:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'DELETE',
  endpoint: 'http://localhost:3000/api/memberships/membership2',
  status: 409,
  data: {
    message: 'No se puede eliminar la última membresía administrativa de la organización'
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1043:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Eliminar membresía específica</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1043:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'DELETE',
  endpoint: 'http://localhost:3000/api/memberships/new-membership-1',
  data: undefined
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1043:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'DELETE',
  endpoint: 'http://localhost:3000/api/memberships/new-membership-1',
  status: 200,
  data: { message: 'Member removed successfully' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1084:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Rechazar eliminación sin permisos</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1084:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'DELETE',
  endpoint: 'http://localhost:3000/api/memberships/membership2',
  data: undefined
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1084:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'DELETE',
  endpoint: 'http://localhost:3000/api/memberships/membership2',
  status: 403,
  data: { message: 'Unauthorized. Only admins can remove members.' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1116:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Admin: Listar membresías de su organización</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1116:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships?organizationId=org2',
  data: undefined
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1116:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships?organizationId=org2',
  status: 200,
  data: [
    {
      id: 'membership2',
      userId: 'orgadmin1',
      organizationId: 'org2',
      role: 'org-admin',
      createdAt: '2025-05-06T16:29:23.067Z'
    },
    {
      id: 'membership3',
      userId: 'orgstaff1',
      organizationId: 'org2',
      role: 'org-admin',
      createdAt: '2025-05-06T16:29:23.067Z',
      updatedAt: '2025-05-06T16:29:23.160Z'
    },
    {
      id: 'membership2',
      userId: 'orgadmin1',
      organizationId: 'org2',
      role: 'org-admin',
      createdAt: '2025-05-06T16:29:23.067Z'
    }
  ]
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1148:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Admin: Crear membresía en su organización</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1148:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'POST',
  endpoint: 'http://localhost:3000/api/memberships',
  data: { userId: 'user2', organizationId: 'org2', role: 'org-member' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1148:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'POST',
  endpoint: 'http://localhost:3000/api/memberships',
  requestData: { userId: 'user2', organizationId: 'org2', role: 'org-member' },
  status: 201,
  data: {
    id: 'new-membership-by-admin',
    userId: 'user2',
    organizationId: 'org2',
    role: 'org-member',
    createdAt: '2025-05-06T16:29:23.200Z'
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1183:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Admin: Modificar membresía en su organización</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1183:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'PATCH',
  endpoint: 'http://localhost:3000/api/memberships/membership3',
  data: { role: 'org-member' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1183:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'PATCH',
  endpoint: 'http://localhost:3000/api/memberships/membership3',
  requestData: { role: 'org-member' },
  status: 200,
  data: {
    id: 'membership3',
    userId: 'orgstaff1',
    organizationId: 'org2',
    role: 'org-member',
    createdAt: '2025-05-06T16:29:23.067Z',
    updatedAt: '2025-05-06T16:29:23.201Z'
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1215:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Usuario regular: Restricción al listar membresías</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1215:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships?organizationId=org1',
  data: undefined
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1215:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships?organizationId=org1',
  status: 403,
  data: {
    message: 'No tienes permisos para ver todas las membresías de la organización'
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1239:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Usuario regular: Acceso a sus propias membresías</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1239:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships?userId=user1',
  data: undefined
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1239:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'GET',
  endpoint: 'http://localhost:3000/api/memberships?userId=user1',
  status: 200,
  data: []
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1273:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Usuario regular: Restricción al modificar membresía ajena</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1273:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'PATCH',
  endpoint: 'http://localhost:3000/api/memberships/new-membership-2',
  data: { role: 'org-staff' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1273:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'PATCH',
  endpoint: 'http://localhost:3000/api/memberships/new-membership-2',
  requestData: { role: 'org-staff' },
  status: 403,
  data: {
    message: 'No tienes permisos para modificar la membresía de otro usuario'
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1312:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Respetar jerarquía: Staff no puede modificar a Admin</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1312:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'PATCH',
  endpoint: 'http://localhost:3000/api/memberships/membership2',
  data: { role: 'org-member' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1312:9)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'PATCH',
  endpoint: 'http://localhost:3000/api/memberships/membership2',
  requestData: { role: 'org-member' },
  status: 403,
  data: {
    message: 'No puedes modificar la membresía de un usuario con rol superior al tuyo'
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1344:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Respetar jerarquía: Admin puede modificar a Staff</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1344:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'PATCH',
  endpoint: 'http://localhost:3000/api/memberships/membership3',
  data: { role: 'org-member' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1344:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'PATCH',
  endpoint: 'http://localhost:3000/api/memberships/membership3',
  requestData: { role: 'org-member' },
  status: 200,
  data: {
    id: 'membership3',
    userId: 'orgstaff1',
    organizationId: 'org2',
    role: 'org-member',
    createdAt: '2025-05-06T16:29:23.067Z',
    updatedAt: '2025-05-06T16:29:23.254Z'
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:47:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1373:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">
Test Case: Respetar jerarquía: Admin sistema puede modificar a cualquiera</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:48:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1373:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Request: {
  method: 'PATCH',
  endpoint: 'http://localhost:3000/api/memberships/membership2',
  data: { role: 'org-staff' }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:53:11)
    at Object.trackResult (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:1373:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</pre><pre class="suite-consolelog-item-message">Response: {
  method: 'PATCH',
  endpoint: 'http://localhost:3000/api/memberships/membership2',
  requestData: { role: 'org-staff' },
  status: 200,
  data: {
    id: 'membership2',
    userId: 'orgadmin1',
    organizationId: 'org2',
    role: 'org-staff',
    createdAt: '2025-05-06T16:29:23.067Z',
    updatedAt: '2025-05-06T16:29:23.261Z'
  }
}</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/utils.js:136:11)
    at Object.generateReport (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:225:5)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:154:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">Deduplicating results: 33 -&gt; 32</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/utils.js:229:11)
    at Object.generateReport (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/membership.test.js:225:5)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:154:7)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">
Markdown report generated at: /Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/membership/reports/membership_tests_2025-05-06T16-29-23-263Z.md</pre></div></div></div><div id="suite-17" class="suite-container"><input id="collapsible-16" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-16"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/unit/authentication.test.js</div><div class="suite-time">0s</div></div></label><div class="suite-tests"/></div><div id="suite-18" class="suite-container"><input id="collapsible-17" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-17"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/unit/resourceLoaders.test.js</div><div class="suite-time">1.007s</div></div></label><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Resource Loaders Middleware &gt; loadPetResource</div><div class="test-title">should load pet resource and call next</div><div class="test-status">passed</div><div class="test-duration">0.005s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Resource Loaders Middleware &gt; loadPetResource</div><div class="test-title">should return 404 if pet is not found</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Resource Loaders Middleware &gt; loadPetResource</div><div class="test-title">should return 500 for other errors</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Resource Loaders Middleware &gt; loadUserResource</div><div class="test-title">should load user resource and call next</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Resource Loaders Middleware &gt; loadUserResource</div><div class="test-title">should return 404 if user is not found</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Resource Loaders Middleware &gt; loadUserResource</div><div class="test-title">should return 500 for other errors</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Resource Loaders Middleware &gt; loadOrganizationResource</div><div class="test-title">should load organization resource and call next</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Resource Loaders Middleware &gt; loadOrganizationResource</div><div class="test-title">should return 404 if organization is not found</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Resource Loaders Middleware &gt; createResourceLoader</div><div class="test-title">should create a resource loader middleware that works correctly</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Resource Loaders Middleware &gt; createResourceLoader</div><div class="test-title">should handle missing ID parameter</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div></div><div class="suite-consolelog"><div class="suite-consolelog-header">Console Log</div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at Object.log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/config/prisma.js:24:9)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at Runtime.requireModuleOrMock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1048:21)
    at Object.require (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/models/prisma/userModel.js:8:20)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at Runtime.requireModuleOrMock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1048:21)
    at Object.require (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/models/adapter.js:18:25)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at Runtime.requireModuleOrMock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1048:21)
    at Object.require (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/middlewares/resourceLoaders.js:38:5)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at Runtime.requireModuleOrMock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1048:21)
    at Object.require (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/unit/resourceLoaders.test.js:45:25)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">Prisma Client initialized for PostgreSQL connection</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at Object.log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/models/adapter.js:37:9)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at Runtime.requireModuleOrMock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1048:21)
    at Object.require (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/middlewares/resourceLoaders.js:38:5)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at Runtime.requireModuleOrMock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1048:21)
    at Object.require (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/unit/resourceLoaders.test.js:45:25)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">Using Firebase database</pre></div></div></div><div id="suite-19" class="suite-container"><input id="collapsible-18" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-18"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/integration/auth-system.test.js</div><div class="suite-time">0s</div></div></label><div class="suite-tests"/></div><div id="suite-20" class="suite-container"><input id="collapsible-19" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-19"><div class="suite-info"><div class="suite-path">/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js</div><div class="suite-time warn">9.851s</div></div></label><div class="suite-tests"><div class="test-result failed"><div class="test-info"><div class="test-suitename">Módulo de Usuarios &gt; Creación de Usuario</div><div class="test-title">debería crear un usuario con datos válidos</div><div class="test-status">failed</div><div class="test-duration">0.013s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: thrown: "Exceeded timeout of 5000 ms for a hook.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
    at Object.beforeAll (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:189:1)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Módulo de Usuarios &gt; Creación de Usuario</div><div class="test-title">debería fallar si se intenta crear un usuario con datos incompletos</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: thrown: "Exceeded timeout of 5000 ms for a hook.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
    at Object.beforeAll (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:189:1)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Módulo de Usuarios &gt; Creación de Usuario</div><div class="test-title">debería fallar si un usuario sin permisos intenta crear otro usuario</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: thrown: "Exceeded timeout of 5000 ms for a hook.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
    at Object.beforeAll (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:189:1)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Módulo de Usuarios &gt; Obtención de Usuarios</div><div class="test-title">debería obtener una lista de usuarios como administrador</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: thrown: "Exceeded timeout of 5000 ms for a hook.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
    at Object.beforeAll (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:189:1)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Módulo de Usuarios &gt; Obtención de Usuarios</div><div class="test-title">debería filtrar usuarios por rol</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: thrown: "Exceeded timeout of 5000 ms for a hook.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
    at Object.beforeAll (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:189:1)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Módulo de Usuarios &gt; Obtención de Usuarios</div><div class="test-title">debería obtener un usuario específico por ID</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: thrown: "Exceeded timeout of 5000 ms for a hook.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
    at Object.beforeAll (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:189:1)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Módulo de Usuarios &gt; Obtención de Usuarios</div><div class="test-title">debería permitir a un usuario obtener su propio perfil</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: thrown: "Exceeded timeout of 5000 ms for a hook.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
    at Object.beforeAll (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:189:1)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Módulo de Usuarios &gt; Obtención de Usuarios</div><div class="test-title">debería fallar si un usuario intenta acceder al perfil de otro sin permisos</div><div class="test-status">failed</div><div class="test-duration">0.001s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: thrown: "Exceeded timeout of 5000 ms for a hook.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
    at Object.beforeAll (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:189:1)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Módulo de Usuarios &gt; Actualización de Usuario</div><div class="test-title">debería actualizar datos de un usuario como administrador</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: thrown: "Exceeded timeout of 5000 ms for a hook.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
    at Object.beforeAll (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:189:1)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Módulo de Usuarios &gt; Actualización de Usuario</div><div class="test-title">debería permitir a un usuario actualizar su propio perfil</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: thrown: "Exceeded timeout of 5000 ms for a hook.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
    at Object.beforeAll (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:189:1)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Módulo de Usuarios &gt; Actualización de Usuario</div><div class="test-title">debería fallar si un usuario intenta actualizar a otro sin permisos</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: thrown: "Exceeded timeout of 5000 ms for a hook.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
    at Object.beforeAll (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:189:1)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Módulo de Usuarios &gt; Bloqueo de Usuarios</div><div class="test-title">debería permitir a un usuario bloquear a otro</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: thrown: "Exceeded timeout of 5000 ms for a hook.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
    at Object.beforeAll (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:189:1)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Módulo de Usuarios &gt; Bloqueo de Usuarios</div><div class="test-title">debería permitir a un usuario desbloquear a otro</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: thrown: "Exceeded timeout of 5000 ms for a hook.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
    at Object.beforeAll (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:189:1)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Módulo de Usuarios &gt; Organizaciones de Usuario</div><div class="test-title">debería permitir a un usuario ver sus propias organizaciones</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: thrown: "Exceeded timeout of 5000 ms for a hook.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
    at Object.beforeAll (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:189:1)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Módulo de Usuarios &gt; Organizaciones de Usuario</div><div class="test-title">debería permitir a un administrador ver las organizaciones de cualquier usuario</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: thrown: "Exceeded timeout of 5000 ms for a hook.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
    at Object.beforeAll (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:189:1)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Módulo de Usuarios &gt; Organizaciones de Usuario</div><div class="test-title">debería fallar si un usuario intenta ver las organizaciones de otro sin permisos</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: thrown: "Exceeded timeout of 5000 ms for a hook.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
    at Object.beforeAll (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:189:1)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Módulo de Usuarios &gt; Eliminación de Usuario</div><div class="test-title">debería fallar si un usuario regular intenta eliminar a otro</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: thrown: "Exceeded timeout of 5000 ms for a hook.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
    at Object.beforeAll (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:189:1)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Módulo de Usuarios &gt; Eliminación de Usuario</div><div class="test-title">debería permitir a un administrador eliminar un usuario</div><div class="test-status">failed</div><div class="test-duration">0s</div></div><div class="failureMessages"> <pre class="failureMsg">Error: thrown: "Exceeded timeout of 5000 ms for a hook.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."
    at Object.beforeAll (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:189:1)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre></div></div></div><div class="suite-consolelog"><div class="suite-consolelog-header">Console Log</div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at Object.log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:60:15)
    at Runtime._execModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1439:24)
    at Runtime._loadModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:1022:12)
    at Runtime.requireModule (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runtime/build/index.js:882:12)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">Firebase Admin SDK inicializado correctamente</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at Object.log (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:220:13)</pre><pre class="suite-consolelog-item-message">Test setup complete with users: 3</pre></div><div class="suite-consolelog-item"><pre class="suite-consolelog-item-origin">    at error (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/utils.js:121:13)
    at Object.generateReport (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/users/users.test.js:236:3)
    at Promise.then.completed (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:281:40)
    at _runTestsForDescribeBlock (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:154:7)
    at run (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/daniellovazzano/Documents/Projects/pet-api-firebase/backend/tests/node_modules/jest-runner/build/testWorker.js:106:12)</pre><pre class="suite-consolelog-item-message">No test results to generate report from</pre></div></div></div></div></body></html>